<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Simple Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjs@11.2.1/lib/browser/math.min.js"></script>
    <script type="text/javascript">
    
    function addLog(msg){
        var ul = document.getElementById("log")
        var li = document.createElement("li")
        var msg_text_node =  document.createTextNode(msg)
        li.appendChild(msg_text_node)
        ul.appendChild(li)
    }    
    function math_calculate(){
        expression = document.getElementById("expression").value;
        console.log(expression);
        if(expression){
            try{
            answer = math.evaluate(expression)
            document.getElementById("expression").value = answer;
            addLog(expression+" = "+answer)
            } catch(e){
                console.log("Bad expression")
                addLog(expression + " is bad. Please fix it")
            }
        }
    }

    function input_number(v){
        expression = document.getElementById("expression").value;
        expression = expression + v 
        expression = document.getElementById("expression").value = expression;
        
    }

    function input_operator(o){
        expression = document.getElementById("expression").value;
        expression = expression + o
        expression = document.getElementById("expression").value = expression;
        
    }
    </script>
  </head>
  <body>
    <div class="container">
        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <input type="input" class="form-control" id="expression" placeholder="3*5">
                <br>
            </div>
            <div class="col">
            </div>
        </div>

        <div class="row">
            <div class="col">
            </div>
            <div class="col">
           
                <button class="btn btn-primary px-3" onclick="input_number(7)"><b>7</b></button>
                <button class="btn btn-primary px-3" onclick="input_number(8)"><b>8</b></button>
                <button class="btn btn-primary px-3" onclick="input_number(9)"><b>9</b></button>
                <button class="btn btn-warning px-3" onclick="input_operator('/')"><b>/</b></button>
            
            </div>
            <div class="col">
            </div>
        </div>
        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <button class="btn btn-primary px-3" onclick="input_number(4)"><b>4</b></button>
                <button class="btn btn-primary px-3" onclick="input_number(5)"><b>5</b></button>
                <button class="btn btn-primary px-3" onclick="input_number(6)"><b>6</b></button>
                <button class="btn btn-warning px-3" onclick="input_operator('*')"><b>*</b></button>
            </div>
            <div class="col">
            </div>
        </div>

        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <button class="btn btn-primary px-3" onclick="input_number(1)"><b>1</b></button>
                <button class="btn btn-primary px-3" onclick="input_number(2)"><b>2</b></button>
                <button class="btn btn-primary px-3" onclick="input_number(3)"><b>3</b></button>
                <button class="btn btn-warning px-3" onclick="input_operator('-')"><b>-</b></button>
            </div>
            <div class="col">
            </div>
        </div>

        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <button class="btn btn-primary px-3" onclick="input_number(0)"><b>0</b></button>
                <button class="btn btn-primary px-3" onclick="input_operator('.')"><b>.</b></button>
                <button id="calculate" onclick="math_calculate()" class="btn btn-success"><b>=</b></button>
                <button class="btn btn-warning" onclick="input_operator('+')"><b>+</b></button>
            </div>
            <div class="col">
            </div>
        </div>


        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <ul id="log">

                </ul>
            </div>
            <div class="col">
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </body>
</html>